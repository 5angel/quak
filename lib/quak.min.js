!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.quak=t():r.quak=t()}(this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return r[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=r,t.c=e,t.p="",t(0)}([function(r,t,e){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function o(r,t){var e=document.getElementById(r),n=document.getElementsByTagName(r);e.parentNode.removeChild(e);var o=!0,i=!1,l=void 0;try{for(var f,c=(0,a.toArray)(n)[Symbol.iterator]();!(o=(f=c.next()).done);o=!0){var d=f.value,s=e.innerHTML.trim(),y=new u["default"](d,s);y.mount(new t)}}catch(v){i=!0,l=v}finally{try{!o&&c["return"]&&c["return"]()}finally{if(i)throw l}}}Object.defineProperty(t,"__esModule",{value:!0}),t.link=o;var a=e(1),i=e(2),u=n(i)},function(r,t){"use strict";function e(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)}function n(r){return r instanceof Array}function o(r){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],e="object"===("undefined"==typeof r?"undefined":m(r));return e&&!r?t:e}function a(r){return void 0===r}function i(r){return"function"==typeof r}function u(r){return y(b,r)}function l(r){return x.test(r)}function f(r){var t=r.match(x)||[],e=p(t,2),n=e[1];return n}function c(r){for(var t=arguments.length,e=Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=u.value;for(var c in f)f.hasOwnProperty(c)&&(r[c]=f[c])}}catch(d){a=!0,i=d}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw i}}return r}function d(r,t,n){return function(){try{var a,u=o(r)?Object.keys(r):[],l=u.map(function(t){return r[t]}),f=(a=new Function(u.join(","),"return "+t)).call.apply(a,[r].concat(e(l)));return i(n)&&n(r),f}catch(c){}}}function s(r,t){for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)}function y(r,t){return r.indexOf(t)!==-1}function v(r){return Array.prototype.slice.call(r)}function h(r,t){if(r&&t(r)){var e=!0,n=!1,o=void 0;try{for(var a,i=v(r.childNodes)[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var u=a.value;h(u,t)}}catch(l){n=!0,o=l}finally{try{!e&&i["return"]&&i["return"]()}finally{if(n)throw o}}}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function r(r,t){var e=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r};t.isArray=n,t.isObject=o,t.isUndefined=a,t.isFunction=i,t.isTag=u,t.isHandler=l,t.toEvent=f,t.extend=c,t.resolve=d,t.each=s,t.contains=y,t.toArray=v,t.walkDom=h;var b=["each"],x=/^on(click)$/},function(r,t,e){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function o(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function r(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=e(1),u=e(3),l=n(u),f=function(){function r(t,e){o(this,r),this._template=e,this._anchor=document.createTextNode(""),this._views={},this._nodes=[],this._bindings=[],this._handlers={},this.model=null,t.parentNode.replaceChild(this._anchor,t)}return a(r,[{key:"mount",value:function(r){this.model=r;var t=document.createElement("div"),e=document.createDocumentFragment();t.innerHTML=this._template;var n=(0,l["default"])(t),o=!0,a=!1,u=void 0;try{for(var f,c=n[Symbol.iterator]();!(o=(f=c.next()).done);o=!0)for(var d=f.value,s=d.node,y=d.length-1;y>=0;--y){var v=d[y],h=v.expr,p=v.attr;if(((0,i.isTag)(p)||(0,i.isHandler)(p))&&(s.removeAttribute(p),d.splice(y,1)),(0,i.isTag)(p));else if((0,i.isHandler)(p)){var m=(0,i.resolve)(r,h,this.update.bind(this)),b=(0,i.toEvent)(p),x=this._handlers[name]||[];x.push({node:s,handler:m}),s.addEventListener(b,m)}}}catch(g){a=!0,u=g}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw u}}this._bindings=n.filter(function(r){return r.length}),this._nodes=(0,i.toArray)(t.childNodes);var _=!0,w=!1,A=void 0;try{for(var S,j=this._nodes[Symbol.iterator]();!(_=(S=j.next()).done);_=!0){var T=S.value;e.appendChild(T)}}catch(g){w=!0,A=g}finally{try{!_&&j["return"]&&j["return"]()}finally{if(w)throw A}}return this._anchor.parentNode.insertBefore(e,this._anchor),this.update()}},{key:"update",value:function(){var r=arguments.length<=0||void 0===arguments[0]?this.model:arguments[0];r!==this.model&&(0,i.extend)(this.model,r);var t=!0,e=!1,n=void 0;try{for(var o,a=this._bindings[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value,l=u.node,f=3===l.nodeType;f&&(l.nodeValue=u[0].tmpl);var c=!0,d=!1,s=void 0;try{for(var y,v=u[Symbol.iterator]();!(c=(y=v.next()).done);c=!0){var h=y.value,p=h.value,m=h.expr;h.attr;f&&(l.nodeValue=l.nodeValue.replace(p,(0,i.resolve)(r,m)))}}catch(b){d=!0,s=b}finally{try{!c&&v["return"]&&v["return"]()}finally{if(d)throw s}}}}catch(b){e=!0,n=b}finally{try{!t&&a["return"]&&a["return"]()}finally{if(e)throw n}}return this}}]),r}();t["default"]=f,r.exports=t["default"]},function(r,t,e){"use strict";function n(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)}function o(r){for(var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],e=[],n=void 0;n=l.exec(r);){var o=n,a=i(o,2),u=a[0],f=a[1];e.push({tmpl:r,value:u,expr:f,attr:t})}return e}function a(r){var t=[];return(0,u.walkDom)(r,function(r){var e=(0,u.extend)([],{node:r}),a=!1;switch(r.nodeType){case 1:var i=!0,l=!1,f=void 0;try{for(var c,d=(0,u.toArray)(r.attributes)[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var s=c.value,y=s.value,v=s.name;a=a||(0,u.isTag)(v),e.push.apply(e,n(o(y,v)))}}catch(h){l=!0,f=h}finally{try{!i&&d["return"]&&d["return"]()}finally{if(l)throw f}}break;case 3:e.push.apply(e,n(o(r.nodeValue)))}return e.length&&t.push(e),!a}),t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(r,t){var e=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=a;var u=e(1),l=/{([^{]+)}/g;r.exports=t["default"]}])});